import { estimateGas as viem_estimateGas, sendTransaction as viem_sendTransaction, } from 'viem/actions';
import {} from '../createConfig.js';
import {} from '../types/utils.js';
import { getConnectorClient, } from './getConnectorClient.js';
/** https://wagmi.sh/core/api/actions/sendTransaction */
export async function sendTransaction(config, parameters) {
    const { account, chainId, connector, gas: gas_, ...rest } = parameters;
    const client = await getConnectorClient(config, {
        account,
        chainId,
        connector,
    });
    const gas = await (async () => {
        // Skip gas estimation if `null` is provided.
        if (gas_ === null)
            return undefined;
        // Run gas estimation if no value is provided.
        if (gas_ === undefined)
            return viem_estimateGas(client, {
                ...rest,
                chain: chainId ? { id: chainId } : null,
            });
        // Use provided gas value.
        return gas_;
    })();
    const hash = await viem_sendTransaction(client, {
        ...rest,
        gas,
        chain: chainId ? { id: chainId } : null,
    });
    return hash;
}
//# sourceMappingURL=sendTransaction.js.map