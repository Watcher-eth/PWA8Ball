"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["node_modules_thirdweb-dev_wallets_dist_zk-connector-9df28418_browser_esm_js"],{

/***/ "./node_modules/@thirdweb-dev/wallets/dist/http-rpc-client-29e9bef8.browser.esm.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@thirdweb-dev/wallets/dist/http-rpc-client-29e9bef8.browser.esm.js ***!
  \*****************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   D: function() { return /* binding */ DEBUG; },\n/* harmony export */   H: function() { return /* binding */ HttpRpcClient; },\n/* harmony export */   g: function() { return /* binding */ getUserOpHashV06; },\n/* harmony export */   h: function() { return /* binding */ hexlifyUserOp; },\n/* harmony export */   r: function() { return /* binding */ randomNonce; }\n/* harmony export */ });\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ethers */ \"./node_modules/@ethersproject/properties/lib.esm/index.js\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ethers */ \"./node_modules/@ethersproject/bytes/lib.esm/index.js\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ethers */ \"./node_modules/@ethersproject/keccak256/lib.esm/index.js\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ethers */ \"./node_modules/@ethersproject/abi/lib.esm/abi-coder.js\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ethers */ \"./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ethers */ \"./node_modules/@ethersproject/providers/lib.esm/url-json-rpc-provider.js\");\n/* harmony import */ var _url_a45219bd_browser_esm_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./url-a45219bd.browser.esm.js */ \"./node_modules/@thirdweb-dev/wallets/dist/url-a45219bd.browser.esm.js\");\n/* harmony import */ var _headers_b98dea62_browser_esm_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./headers-b98dea62.browser.esm.js */ \"./node_modules/@thirdweb-dev/wallets/dist/headers-b98dea62.browser.esm.js\");\n/* harmony import */ var _utils_5fdc349b_browser_esm_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./utils-5fdc349b.browser.esm.js */ \"./node_modules/@thirdweb-dev/wallets/dist/utils-5fdc349b.browser.esm.js\");\n\n\n\n\n\nasync function hexlifyUserOp(\n// TODO: types\nop) {\n  const userOp = await ethers__WEBPACK_IMPORTED_MODULE_0__.resolveProperties(op);\n  return Object.keys(userOp).map(key => {\n    let val = userOp[key];\n    if (typeof val !== \"string\" || !val.startsWith(\"0x\")) {\n      val = ethers__WEBPACK_IMPORTED_MODULE_1__.hexValue(val);\n    }\n    return [key, val];\n  }).reduce((set, _ref) => {\n    let [k, v] = _ref;\n    return {\n      ...set,\n      [k]: v\n    };\n  }, {});\n}\n\n// v0.6 userOpHash calculation\nasync function getUserOpHashV06(userOp, entryPoint, chainId) {\n  const op = await ethers__WEBPACK_IMPORTED_MODULE_0__.resolveProperties(userOp);\n  const hashedUserOp = {\n    sender: op.sender,\n    nonce: op.nonce,\n    initCodeHash: ethers__WEBPACK_IMPORTED_MODULE_2__.keccak256(op.initCode),\n    callDataHash: ethers__WEBPACK_IMPORTED_MODULE_2__.keccak256(op.callData),\n    callGasLimit: op.callGasLimit,\n    verificationGasLimit: op.verificationGasLimit,\n    preVerificationGas: op.preVerificationGas,\n    maxFeePerGas: op.maxFeePerGas,\n    maxPriorityFeePerGas: op.maxPriorityFeePerGas,\n    paymasterAndDataHash: ethers__WEBPACK_IMPORTED_MODULE_2__.keccak256(op.paymasterAndData)\n  };\n  const userOpType = {\n    components: [{\n      type: \"address\",\n      name: \"sender\"\n    }, {\n      type: \"uint256\",\n      name: \"nonce\"\n    }, {\n      type: \"bytes32\",\n      name: \"initCodeHash\"\n    }, {\n      type: \"bytes32\",\n      name: \"callDataHash\"\n    }, {\n      type: \"uint256\",\n      name: \"callGasLimit\"\n    }, {\n      type: \"uint256\",\n      name: \"verificationGasLimit\"\n    }, {\n      type: \"uint256\",\n      name: \"preVerificationGas\"\n    }, {\n      type: \"uint256\",\n      name: \"maxFeePerGas\"\n    }, {\n      type: \"uint256\",\n      name: \"maxPriorityFeePerGas\"\n    }, {\n      type: \"bytes32\",\n      name: \"paymasterAndDataHash\"\n    }],\n    name: \"hashedUserOp\",\n    type: \"tuple\"\n  };\n  const encoded = ethers__WEBPACK_IMPORTED_MODULE_3__.defaultAbiCoder.encode([userOpType], [{\n    ...hashedUserOp\n  }]);\n  // remove leading word (total length) and trailing word (zero-length signature)\n\n  const userOpHash = ethers__WEBPACK_IMPORTED_MODULE_2__.keccak256(encoded);\n  const enc = ethers__WEBPACK_IMPORTED_MODULE_3__.defaultAbiCoder.encode([\"bytes32\", \"address\", \"uint256\"], [userOpHash, entryPoint, chainId]);\n  return ethers__WEBPACK_IMPORTED_MODULE_2__.keccak256(enc);\n}\nconst generateRandomUint192 = () => {\n  const rand1 = BigInt(Math.floor(Math.random() * 0x100000000));\n  const rand2 = BigInt(Math.floor(Math.random() * 0x100000000));\n  const rand3 = BigInt(Math.floor(Math.random() * 0x100000000));\n  const rand4 = BigInt(Math.floor(Math.random() * 0x100000000));\n  const rand5 = BigInt(Math.floor(Math.random() * 0x100000000));\n  const rand6 = BigInt(Math.floor(Math.random() * 0x100000000));\n  return rand1 << BigInt(160) | rand2 << BigInt(128) | rand3 << BigInt(96) | rand4 << BigInt(64) | rand5 << BigInt(32) | rand6;\n};\nconst randomNonce = () => {\n  let hexString = generateRandomUint192().toString(16);\n  if (hexString.length % 2 !== 0) {\n    hexString = \"0\" + hexString;\n  }\n  hexString = \"0x\" + hexString;\n  return ethers__WEBPACK_IMPORTED_MODULE_4__.BigNumber.from(ethers__WEBPACK_IMPORTED_MODULE_1__.concat([hexString, \"0x0000000000000000\"]));\n};\n\nconst DEBUG = false; // TODO set as public flag\n\nclass HttpRpcClient {\n  constructor(bundlerUrl, entryPointAddress, chainId, clientId, secretKey) {\n    this.bundlerUrl = bundlerUrl;\n    this.entryPointAddress = entryPointAddress;\n    this.chainId = chainId;\n    const headers = {};\n    if ((0,_url_a45219bd_browser_esm_js__WEBPACK_IMPORTED_MODULE_5__.i)(this.bundlerUrl)) {\n      const bundleId = typeof globalThis !== \"undefined\" && \"APP_BUNDLE_ID\" in globalThis ? globalThis.APP_BUNDLE_ID : undefined;\n      if (secretKey) {\n        headers[\"x-secret-key\"] = secretKey;\n      } else if (clientId) {\n        headers[\"x-client-id\"] = clientId;\n        if (bundleId) {\n          headers[\"x-bundle-id\"] = bundleId;\n        }\n      }\n\n      // Dashboard token\n      if (typeof globalThis !== \"undefined\" && \"TW_AUTH_TOKEN\" in globalThis && typeof globalThis.TW_AUTH_TOKEN === \"string\") {\n        headers[\"authorization\"] = `Bearer ${globalThis.TW_AUTH_TOKEN}`;\n      }\n\n      // CLI token\n      if (typeof globalThis !== \"undefined\" && \"TW_CLI_AUTH_TOKEN\" in globalThis && typeof globalThis.TW_CLI_AUTH_TOKEN === \"string\") {\n        headers[\"authorization\"] = `Bearer ${globalThis.TW_CLI_AUTH_TOKEN}`;\n        headers[\"x-authorize-wallet\"] = \"true\";\n      }\n      (0,_headers_b98dea62_browser_esm_js__WEBPACK_IMPORTED_MODULE_6__.s)(headers);\n    }\n    this.userOpJsonRpcProvider = new ethers__WEBPACK_IMPORTED_MODULE_7__.StaticJsonRpcProvider({\n      url: this.bundlerUrl,\n      headers\n    }, {\n      name: \"Connected bundler network\",\n      chainId\n    });\n    this.initializing = this.validateChainId();\n  }\n  async validateChainId() {\n    if (await (0,_utils_5fdc349b_browser_esm_js__WEBPACK_IMPORTED_MODULE_8__.e)(this.chainId)) {\n      return;\n    }\n    // validate chainId is in sync with expected chainid\n    const chain = await this.userOpJsonRpcProvider.send(\"eth_chainId\", []);\n    const bundlerChain = parseInt(chain);\n    if (bundlerChain !== this.chainId) {\n      throw new Error(`bundler ${this.bundlerUrl} is on chainId ${bundlerChain}, but provider is on chainId ${this.chainId}`);\n    }\n  }\n\n  /**\n   * send a UserOperation to the bundler\n   * @param userOp1 - The UserOperation to send\n   * @returns userOpHash the id of this operation, for getUserOperationTransaction\n   */\n  async sendUserOpToBundler(userOp1) {\n    await this.initializing;\n    const hexifiedUserOp = await hexlifyUserOp(userOp1);\n    const jsonRequestData = [hexifiedUserOp, this.entryPointAddress];\n    await this.printUserOperation(\"eth_sendUserOperation\", jsonRequestData);\n    return await this.userOpJsonRpcProvider.send(\"eth_sendUserOperation\", [hexifiedUserOp, this.entryPointAddress]);\n  }\n  async estimateUserOpGas(userOp) {\n    await this.initializing;\n    const hexifiedUserOp = await hexlifyUserOp(userOp);\n    const jsonRequestData = [hexifiedUserOp, this.entryPointAddress];\n    await this.printUserOperation(\"eth_estimateUserOperationGas\", jsonRequestData);\n    const data = await this.userOpJsonRpcProvider.send(\"eth_estimateUserOperationGas\", [hexifiedUserOp, this.entryPointAddress]);\n    // adds gas buffer to callGasLimit to account for ManagedAccountFactory delegate calls\n    return {\n      preVerificationGas: ethers__WEBPACK_IMPORTED_MODULE_4__.BigNumber.from(data.preVerificationGas),\n      verificationGas: ethers__WEBPACK_IMPORTED_MODULE_4__.BigNumber.from(data.verificationGas),\n      verificationGasLimit: ethers__WEBPACK_IMPORTED_MODULE_4__.BigNumber.from(data.verificationGasLimit),\n      callGasLimit: ethers__WEBPACK_IMPORTED_MODULE_4__.BigNumber.from(data.callGasLimit).add(_utils_5fdc349b_browser_esm_js__WEBPACK_IMPORTED_MODULE_8__.M)\n    };\n  }\n  async getUserOperationGasPrice() {\n    await this.initializing;\n    return await this.userOpJsonRpcProvider.send(\"thirdweb_getUserOperationGasPrice\", []);\n  }\n  async getUserOperationReceipt(userOpHash) {\n    await this.initializing;\n    return await this.userOpJsonRpcProvider.send(\"eth_getUserOperationReceipt\", [userOpHash]);\n  }\n  async zkPaymasterData(transactionInput) {\n    await this.initializing;\n    return await this.userOpJsonRpcProvider.send(\"zk_paymasterData\", [await hexlifyUserOp({\n      ...transactionInput,\n      gas: transactionInput.gasLimit\n    })]);\n  }\n  async zkBroadcastTransaction(transactionInput) {\n    await this.initializing;\n    return await this.userOpJsonRpcProvider.send(\"zk_broadcastTransaction\", [transactionInput]);\n  }\n  async printUserOperation(method, _ref) {\n    {\n      return;\n    }\n  }\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHRoaXJkd2ViLWRldi93YWxsZXRzL2Rpc3QvaHR0cC1ycGMtY2xpZW50LTI5ZTliZWY4LmJyb3dzZXIuZXNtLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXFEO0FBQ1E7QUFDZ0I7QUFDeUI7O0FBRXRHO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixxREFBdUI7QUFDOUM7QUFDQTtBQUNBO0FBQ0EsWUFBWSw0Q0FBYztBQUMxQjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLElBQUk7QUFDUDs7QUFFQTtBQUNBO0FBQ0EsbUJBQW1CLHFEQUF1QjtBQUMxQztBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsNkNBQWU7QUFDakMsa0JBQWtCLDZDQUFlO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsNkNBQWU7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsbURBQXFCO0FBQ3ZDO0FBQ0EsR0FBRztBQUNIOztBQUVBLHFCQUFxQiw2Q0FBZTtBQUNwQyxjQUFjLG1EQUFxQjtBQUNuQyxTQUFTLDZDQUFlO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyw2Q0FBUyxNQUFNLDBDQUFZO0FBQ3BDOztBQUVBLHFCQUFxQjs7QUFFckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSwrREFBTztBQUNmO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw2Q0FBNkMseUJBQXlCO0FBQ3RFOztBQUVBO0FBQ0E7QUFDQSw2Q0FBNkMsNkJBQTZCO0FBQzFFO0FBQ0E7QUFDQSxNQUFNLG1FQUFtQjtBQUN6QjtBQUNBLHFDQUFxQyx5REFBK0I7QUFDcEU7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGNBQWMsaUVBQWE7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLGlCQUFpQixnQkFBZ0IsYUFBYSwrQkFBK0IsYUFBYTtBQUMzSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsNkNBQVM7QUFDbkMsdUJBQXVCLDZDQUFTO0FBQ2hDLDRCQUE0Qiw2Q0FBUztBQUNyQyxvQkFBb0IsNkNBQVMsNkJBQTZCLDZEQUEwQjtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFdUciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0B0aGlyZHdlYi1kZXYvd2FsbGV0cy9kaXN0L2h0dHAtcnBjLWNsaWVudC0yOWU5YmVmOC5icm93c2VyLmVzbS5qcz80NGM3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHV0aWxzLCBCaWdOdW1iZXIsIHByb3ZpZGVycyB9IGZyb20gJ2V0aGVycyc7XG5pbXBvcnQgeyBpIGFzIGlzVHdVcmwgfSBmcm9tICcuL3VybC1hNDUyMTliZC5icm93c2VyLmVzbS5qcyc7XG5pbXBvcnQgeyBzIGFzIHNldEFuYWx5dGljc0hlYWRlcnMgfSBmcm9tICcuL2hlYWRlcnMtYjk4ZGVhNjIuYnJvd3Nlci5lc20uanMnO1xuaW1wb3J0IHsgZSBhcyBpc1prU3luY0NoYWluLCBNIGFzIE1BTkFHRURfQUNDT1VOVF9HQVNfQlVGRkVSIH0gZnJvbSAnLi91dGlscy01ZmRjMzQ5Yi5icm93c2VyLmVzbS5qcyc7XG5cbmFzeW5jIGZ1bmN0aW9uIGhleGxpZnlVc2VyT3AoXG4vLyBUT0RPOiB0eXBlc1xub3ApIHtcbiAgY29uc3QgdXNlck9wID0gYXdhaXQgdXRpbHMucmVzb2x2ZVByb3BlcnRpZXMob3ApO1xuICByZXR1cm4gT2JqZWN0LmtleXModXNlck9wKS5tYXAoa2V5ID0+IHtcbiAgICBsZXQgdmFsID0gdXNlck9wW2tleV07XG4gICAgaWYgKHR5cGVvZiB2YWwgIT09IFwic3RyaW5nXCIgfHwgIXZhbC5zdGFydHNXaXRoKFwiMHhcIikpIHtcbiAgICAgIHZhbCA9IHV0aWxzLmhleFZhbHVlKHZhbCk7XG4gICAgfVxuICAgIHJldHVybiBba2V5LCB2YWxdO1xuICB9KS5yZWR1Y2UoKHNldCwgX3JlZikgPT4ge1xuICAgIGxldCBbaywgdl0gPSBfcmVmO1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zZXQsXG4gICAgICBba106IHZcbiAgICB9O1xuICB9LCB7fSk7XG59XG5cbi8vIHYwLjYgdXNlck9wSGFzaCBjYWxjdWxhdGlvblxuYXN5bmMgZnVuY3Rpb24gZ2V0VXNlck9wSGFzaFYwNih1c2VyT3AsIGVudHJ5UG9pbnQsIGNoYWluSWQpIHtcbiAgY29uc3Qgb3AgPSBhd2FpdCB1dGlscy5yZXNvbHZlUHJvcGVydGllcyh1c2VyT3ApO1xuICBjb25zdCBoYXNoZWRVc2VyT3AgPSB7XG4gICAgc2VuZGVyOiBvcC5zZW5kZXIsXG4gICAgbm9uY2U6IG9wLm5vbmNlLFxuICAgIGluaXRDb2RlSGFzaDogdXRpbHMua2VjY2FrMjU2KG9wLmluaXRDb2RlKSxcbiAgICBjYWxsRGF0YUhhc2g6IHV0aWxzLmtlY2NhazI1NihvcC5jYWxsRGF0YSksXG4gICAgY2FsbEdhc0xpbWl0OiBvcC5jYWxsR2FzTGltaXQsXG4gICAgdmVyaWZpY2F0aW9uR2FzTGltaXQ6IG9wLnZlcmlmaWNhdGlvbkdhc0xpbWl0LFxuICAgIHByZVZlcmlmaWNhdGlvbkdhczogb3AucHJlVmVyaWZpY2F0aW9uR2FzLFxuICAgIG1heEZlZVBlckdhczogb3AubWF4RmVlUGVyR2FzLFxuICAgIG1heFByaW9yaXR5RmVlUGVyR2FzOiBvcC5tYXhQcmlvcml0eUZlZVBlckdhcyxcbiAgICBwYXltYXN0ZXJBbmREYXRhSGFzaDogdXRpbHMua2VjY2FrMjU2KG9wLnBheW1hc3RlckFuZERhdGEpXG4gIH07XG4gIGNvbnN0IHVzZXJPcFR5cGUgPSB7XG4gICAgY29tcG9uZW50czogW3tcbiAgICAgIHR5cGU6IFwiYWRkcmVzc1wiLFxuICAgICAgbmFtZTogXCJzZW5kZXJcIlxuICAgIH0sIHtcbiAgICAgIHR5cGU6IFwidWludDI1NlwiLFxuICAgICAgbmFtZTogXCJub25jZVwiXG4gICAgfSwge1xuICAgICAgdHlwZTogXCJieXRlczMyXCIsXG4gICAgICBuYW1lOiBcImluaXRDb2RlSGFzaFwiXG4gICAgfSwge1xuICAgICAgdHlwZTogXCJieXRlczMyXCIsXG4gICAgICBuYW1lOiBcImNhbGxEYXRhSGFzaFwiXG4gICAgfSwge1xuICAgICAgdHlwZTogXCJ1aW50MjU2XCIsXG4gICAgICBuYW1lOiBcImNhbGxHYXNMaW1pdFwiXG4gICAgfSwge1xuICAgICAgdHlwZTogXCJ1aW50MjU2XCIsXG4gICAgICBuYW1lOiBcInZlcmlmaWNhdGlvbkdhc0xpbWl0XCJcbiAgICB9LCB7XG4gICAgICB0eXBlOiBcInVpbnQyNTZcIixcbiAgICAgIG5hbWU6IFwicHJlVmVyaWZpY2F0aW9uR2FzXCJcbiAgICB9LCB7XG4gICAgICB0eXBlOiBcInVpbnQyNTZcIixcbiAgICAgIG5hbWU6IFwibWF4RmVlUGVyR2FzXCJcbiAgICB9LCB7XG4gICAgICB0eXBlOiBcInVpbnQyNTZcIixcbiAgICAgIG5hbWU6IFwibWF4UHJpb3JpdHlGZWVQZXJHYXNcIlxuICAgIH0sIHtcbiAgICAgIHR5cGU6IFwiYnl0ZXMzMlwiLFxuICAgICAgbmFtZTogXCJwYXltYXN0ZXJBbmREYXRhSGFzaFwiXG4gICAgfV0sXG4gICAgbmFtZTogXCJoYXNoZWRVc2VyT3BcIixcbiAgICB0eXBlOiBcInR1cGxlXCJcbiAgfTtcbiAgY29uc3QgZW5jb2RlZCA9IHV0aWxzLmRlZmF1bHRBYmlDb2Rlci5lbmNvZGUoW3VzZXJPcFR5cGVdLCBbe1xuICAgIC4uLmhhc2hlZFVzZXJPcFxuICB9XSk7XG4gIC8vIHJlbW92ZSBsZWFkaW5nIHdvcmQgKHRvdGFsIGxlbmd0aCkgYW5kIHRyYWlsaW5nIHdvcmQgKHplcm8tbGVuZ3RoIHNpZ25hdHVyZSlcblxuICBjb25zdCB1c2VyT3BIYXNoID0gdXRpbHMua2VjY2FrMjU2KGVuY29kZWQpO1xuICBjb25zdCBlbmMgPSB1dGlscy5kZWZhdWx0QWJpQ29kZXIuZW5jb2RlKFtcImJ5dGVzMzJcIiwgXCJhZGRyZXNzXCIsIFwidWludDI1NlwiXSwgW3VzZXJPcEhhc2gsIGVudHJ5UG9pbnQsIGNoYWluSWRdKTtcbiAgcmV0dXJuIHV0aWxzLmtlY2NhazI1NihlbmMpO1xufVxuY29uc3QgZ2VuZXJhdGVSYW5kb21VaW50MTkyID0gKCkgPT4ge1xuICBjb25zdCByYW5kMSA9IEJpZ0ludChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAweDEwMDAwMDAwMCkpO1xuICBjb25zdCByYW5kMiA9IEJpZ0ludChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAweDEwMDAwMDAwMCkpO1xuICBjb25zdCByYW5kMyA9IEJpZ0ludChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAweDEwMDAwMDAwMCkpO1xuICBjb25zdCByYW5kNCA9IEJpZ0ludChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAweDEwMDAwMDAwMCkpO1xuICBjb25zdCByYW5kNSA9IEJpZ0ludChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAweDEwMDAwMDAwMCkpO1xuICBjb25zdCByYW5kNiA9IEJpZ0ludChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAweDEwMDAwMDAwMCkpO1xuICByZXR1cm4gcmFuZDEgPDwgQmlnSW50KDE2MCkgfCByYW5kMiA8PCBCaWdJbnQoMTI4KSB8IHJhbmQzIDw8IEJpZ0ludCg5NikgfCByYW5kNCA8PCBCaWdJbnQoNjQpIHwgcmFuZDUgPDwgQmlnSW50KDMyKSB8IHJhbmQ2O1xufTtcbmNvbnN0IHJhbmRvbU5vbmNlID0gKCkgPT4ge1xuICBsZXQgaGV4U3RyaW5nID0gZ2VuZXJhdGVSYW5kb21VaW50MTkyKCkudG9TdHJpbmcoMTYpO1xuICBpZiAoaGV4U3RyaW5nLmxlbmd0aCAlIDIgIT09IDApIHtcbiAgICBoZXhTdHJpbmcgPSBcIjBcIiArIGhleFN0cmluZztcbiAgfVxuICBoZXhTdHJpbmcgPSBcIjB4XCIgKyBoZXhTdHJpbmc7XG4gIHJldHVybiBCaWdOdW1iZXIuZnJvbSh1dGlscy5jb25jYXQoW2hleFN0cmluZywgXCIweDAwMDAwMDAwMDAwMDAwMDBcIl0pKTtcbn07XG5cbmNvbnN0IERFQlVHID0gZmFsc2U7IC8vIFRPRE8gc2V0IGFzIHB1YmxpYyBmbGFnXG5cbmNsYXNzIEh0dHBScGNDbGllbnQge1xuICBjb25zdHJ1Y3RvcihidW5kbGVyVXJsLCBlbnRyeVBvaW50QWRkcmVzcywgY2hhaW5JZCwgY2xpZW50SWQsIHNlY3JldEtleSkge1xuICAgIHRoaXMuYnVuZGxlclVybCA9IGJ1bmRsZXJVcmw7XG4gICAgdGhpcy5lbnRyeVBvaW50QWRkcmVzcyA9IGVudHJ5UG9pbnRBZGRyZXNzO1xuICAgIHRoaXMuY2hhaW5JZCA9IGNoYWluSWQ7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGlmIChpc1R3VXJsKHRoaXMuYnVuZGxlclVybCkpIHtcbiAgICAgIGNvbnN0IGJ1bmRsZUlkID0gdHlwZW9mIGdsb2JhbFRoaXMgIT09IFwidW5kZWZpbmVkXCIgJiYgXCJBUFBfQlVORExFX0lEXCIgaW4gZ2xvYmFsVGhpcyA/IGdsb2JhbFRoaXMuQVBQX0JVTkRMRV9JRCA6IHVuZGVmaW5lZDtcbiAgICAgIGlmIChzZWNyZXRLZXkpIHtcbiAgICAgICAgaGVhZGVyc1tcIngtc2VjcmV0LWtleVwiXSA9IHNlY3JldEtleTtcbiAgICAgIH0gZWxzZSBpZiAoY2xpZW50SWQpIHtcbiAgICAgICAgaGVhZGVyc1tcIngtY2xpZW50LWlkXCJdID0gY2xpZW50SWQ7XG4gICAgICAgIGlmIChidW5kbGVJZCkge1xuICAgICAgICAgIGhlYWRlcnNbXCJ4LWJ1bmRsZS1pZFwiXSA9IGJ1bmRsZUlkO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIERhc2hib2FyZCB0b2tlblxuICAgICAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzICE9PSBcInVuZGVmaW5lZFwiICYmIFwiVFdfQVVUSF9UT0tFTlwiIGluIGdsb2JhbFRoaXMgJiYgdHlwZW9mIGdsb2JhbFRoaXMuVFdfQVVUSF9UT0tFTiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBoZWFkZXJzW1wiYXV0aG9yaXphdGlvblwiXSA9IGBCZWFyZXIgJHtnbG9iYWxUaGlzLlRXX0FVVEhfVE9LRU59YDtcbiAgICAgIH1cblxuICAgICAgLy8gQ0xJIHRva2VuXG4gICAgICBpZiAodHlwZW9mIGdsb2JhbFRoaXMgIT09IFwidW5kZWZpbmVkXCIgJiYgXCJUV19DTElfQVVUSF9UT0tFTlwiIGluIGdsb2JhbFRoaXMgJiYgdHlwZW9mIGdsb2JhbFRoaXMuVFdfQ0xJX0FVVEhfVE9LRU4gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgaGVhZGVyc1tcImF1dGhvcml6YXRpb25cIl0gPSBgQmVhcmVyICR7Z2xvYmFsVGhpcy5UV19DTElfQVVUSF9UT0tFTn1gO1xuICAgICAgICBoZWFkZXJzW1wieC1hdXRob3JpemUtd2FsbGV0XCJdID0gXCJ0cnVlXCI7XG4gICAgICB9XG4gICAgICBzZXRBbmFseXRpY3NIZWFkZXJzKGhlYWRlcnMpO1xuICAgIH1cbiAgICB0aGlzLnVzZXJPcEpzb25ScGNQcm92aWRlciA9IG5ldyBwcm92aWRlcnMuU3RhdGljSnNvblJwY1Byb3ZpZGVyKHtcbiAgICAgIHVybDogdGhpcy5idW5kbGVyVXJsLFxuICAgICAgaGVhZGVyc1xuICAgIH0sIHtcbiAgICAgIG5hbWU6IFwiQ29ubmVjdGVkIGJ1bmRsZXIgbmV0d29ya1wiLFxuICAgICAgY2hhaW5JZFxuICAgIH0pO1xuICAgIHRoaXMuaW5pdGlhbGl6aW5nID0gdGhpcy52YWxpZGF0ZUNoYWluSWQoKTtcbiAgfVxuICBhc3luYyB2YWxpZGF0ZUNoYWluSWQoKSB7XG4gICAgaWYgKGF3YWl0IGlzWmtTeW5jQ2hhaW4odGhpcy5jaGFpbklkKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyB2YWxpZGF0ZSBjaGFpbklkIGlzIGluIHN5bmMgd2l0aCBleHBlY3RlZCBjaGFpbmlkXG4gICAgY29uc3QgY2hhaW4gPSBhd2FpdCB0aGlzLnVzZXJPcEpzb25ScGNQcm92aWRlci5zZW5kKFwiZXRoX2NoYWluSWRcIiwgW10pO1xuICAgIGNvbnN0IGJ1bmRsZXJDaGFpbiA9IHBhcnNlSW50KGNoYWluKTtcbiAgICBpZiAoYnVuZGxlckNoYWluICE9PSB0aGlzLmNoYWluSWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgYnVuZGxlciAke3RoaXMuYnVuZGxlclVybH0gaXMgb24gY2hhaW5JZCAke2J1bmRsZXJDaGFpbn0sIGJ1dCBwcm92aWRlciBpcyBvbiBjaGFpbklkICR7dGhpcy5jaGFpbklkfWApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBzZW5kIGEgVXNlck9wZXJhdGlvbiB0byB0aGUgYnVuZGxlclxuICAgKiBAcGFyYW0gdXNlck9wMSAtIFRoZSBVc2VyT3BlcmF0aW9uIHRvIHNlbmRcbiAgICogQHJldHVybnMgdXNlck9wSGFzaCB0aGUgaWQgb2YgdGhpcyBvcGVyYXRpb24sIGZvciBnZXRVc2VyT3BlcmF0aW9uVHJhbnNhY3Rpb25cbiAgICovXG4gIGFzeW5jIHNlbmRVc2VyT3BUb0J1bmRsZXIodXNlck9wMSkge1xuICAgIGF3YWl0IHRoaXMuaW5pdGlhbGl6aW5nO1xuICAgIGNvbnN0IGhleGlmaWVkVXNlck9wID0gYXdhaXQgaGV4bGlmeVVzZXJPcCh1c2VyT3AxKTtcbiAgICBjb25zdCBqc29uUmVxdWVzdERhdGEgPSBbaGV4aWZpZWRVc2VyT3AsIHRoaXMuZW50cnlQb2ludEFkZHJlc3NdO1xuICAgIGF3YWl0IHRoaXMucHJpbnRVc2VyT3BlcmF0aW9uKFwiZXRoX3NlbmRVc2VyT3BlcmF0aW9uXCIsIGpzb25SZXF1ZXN0RGF0YSk7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMudXNlck9wSnNvblJwY1Byb3ZpZGVyLnNlbmQoXCJldGhfc2VuZFVzZXJPcGVyYXRpb25cIiwgW2hleGlmaWVkVXNlck9wLCB0aGlzLmVudHJ5UG9pbnRBZGRyZXNzXSk7XG4gIH1cbiAgYXN5bmMgZXN0aW1hdGVVc2VyT3BHYXModXNlck9wKSB7XG4gICAgYXdhaXQgdGhpcy5pbml0aWFsaXppbmc7XG4gICAgY29uc3QgaGV4aWZpZWRVc2VyT3AgPSBhd2FpdCBoZXhsaWZ5VXNlck9wKHVzZXJPcCk7XG4gICAgY29uc3QganNvblJlcXVlc3REYXRhID0gW2hleGlmaWVkVXNlck9wLCB0aGlzLmVudHJ5UG9pbnRBZGRyZXNzXTtcbiAgICBhd2FpdCB0aGlzLnByaW50VXNlck9wZXJhdGlvbihcImV0aF9lc3RpbWF0ZVVzZXJPcGVyYXRpb25HYXNcIiwganNvblJlcXVlc3REYXRhKTtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy51c2VyT3BKc29uUnBjUHJvdmlkZXIuc2VuZChcImV0aF9lc3RpbWF0ZVVzZXJPcGVyYXRpb25HYXNcIiwgW2hleGlmaWVkVXNlck9wLCB0aGlzLmVudHJ5UG9pbnRBZGRyZXNzXSk7XG4gICAgLy8gYWRkcyBnYXMgYnVmZmVyIHRvIGNhbGxHYXNMaW1pdCB0byBhY2NvdW50IGZvciBNYW5hZ2VkQWNjb3VudEZhY3RvcnkgZGVsZWdhdGUgY2FsbHNcbiAgICByZXR1cm4ge1xuICAgICAgcHJlVmVyaWZpY2F0aW9uR2FzOiBCaWdOdW1iZXIuZnJvbShkYXRhLnByZVZlcmlmaWNhdGlvbkdhcyksXG4gICAgICB2ZXJpZmljYXRpb25HYXM6IEJpZ051bWJlci5mcm9tKGRhdGEudmVyaWZpY2F0aW9uR2FzKSxcbiAgICAgIHZlcmlmaWNhdGlvbkdhc0xpbWl0OiBCaWdOdW1iZXIuZnJvbShkYXRhLnZlcmlmaWNhdGlvbkdhc0xpbWl0KSxcbiAgICAgIGNhbGxHYXNMaW1pdDogQmlnTnVtYmVyLmZyb20oZGF0YS5jYWxsR2FzTGltaXQpLmFkZChNQU5BR0VEX0FDQ09VTlRfR0FTX0JVRkZFUilcbiAgICB9O1xuICB9XG4gIGFzeW5jIGdldFVzZXJPcGVyYXRpb25HYXNQcmljZSgpIHtcbiAgICBhd2FpdCB0aGlzLmluaXRpYWxpemluZztcbiAgICByZXR1cm4gYXdhaXQgdGhpcy51c2VyT3BKc29uUnBjUHJvdmlkZXIuc2VuZChcInRoaXJkd2ViX2dldFVzZXJPcGVyYXRpb25HYXNQcmljZVwiLCBbXSk7XG4gIH1cbiAgYXN5bmMgZ2V0VXNlck9wZXJhdGlvblJlY2VpcHQodXNlck9wSGFzaCkge1xuICAgIGF3YWl0IHRoaXMuaW5pdGlhbGl6aW5nO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnVzZXJPcEpzb25ScGNQcm92aWRlci5zZW5kKFwiZXRoX2dldFVzZXJPcGVyYXRpb25SZWNlaXB0XCIsIFt1c2VyT3BIYXNoXSk7XG4gIH1cbiAgYXN5bmMgemtQYXltYXN0ZXJEYXRhKHRyYW5zYWN0aW9uSW5wdXQpIHtcbiAgICBhd2FpdCB0aGlzLmluaXRpYWxpemluZztcbiAgICByZXR1cm4gYXdhaXQgdGhpcy51c2VyT3BKc29uUnBjUHJvdmlkZXIuc2VuZChcInprX3BheW1hc3RlckRhdGFcIiwgW2F3YWl0IGhleGxpZnlVc2VyT3Aoe1xuICAgICAgLi4udHJhbnNhY3Rpb25JbnB1dCxcbiAgICAgIGdhczogdHJhbnNhY3Rpb25JbnB1dC5nYXNMaW1pdFxuICAgIH0pXSk7XG4gIH1cbiAgYXN5bmMgemtCcm9hZGNhc3RUcmFuc2FjdGlvbih0cmFuc2FjdGlvbklucHV0KSB7XG4gICAgYXdhaXQgdGhpcy5pbml0aWFsaXppbmc7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMudXNlck9wSnNvblJwY1Byb3ZpZGVyLnNlbmQoXCJ6a19icm9hZGNhc3RUcmFuc2FjdGlvblwiLCBbdHJhbnNhY3Rpb25JbnB1dF0pO1xuICB9XG4gIGFzeW5jIHByaW50VXNlck9wZXJhdGlvbihtZXRob2QsIF9yZWYpIHtcbiAgICB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7IERFQlVHIGFzIEQsIEh0dHBScGNDbGllbnQgYXMgSCwgZ2V0VXNlck9wSGFzaFYwNiBhcyBnLCBoZXhsaWZ5VXNlck9wIGFzIGgsIHJhbmRvbU5vbmNlIGFzIHIgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@thirdweb-dev/wallets/dist/http-rpc-client-29e9bef8.browser.esm.js\n"));

/***/ }),

/***/ "./node_modules/@thirdweb-dev/wallets/dist/zk-connector-9df28418.browser.esm.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@thirdweb-dev/wallets/dist/zk-connector-9df28418.browser.esm.js ***!
  \**************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ZkSyncConnector: function() { return /* binding */ ZkSyncConnector; }\n/* harmony export */ });\n/* harmony import */ var _defineProperty_350fc508_browser_esm_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./defineProperty-350fc508.browser.esm.js */ \"./node_modules/@thirdweb-dev/wallets/dist/defineProperty-350fc508.browser.esm.js\");\n/* harmony import */ var _connector_05689d68_browser_esm_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./connector-05689d68.browser.esm.js */ \"./node_modules/@thirdweb-dev/wallets/dist/connector-05689d68.browser.esm.js\");\n/* harmony import */ var _http_rpc_client_29e9bef8_browser_esm_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./http-rpc-client-29e9bef8.browser.esm.js */ \"./node_modules/@thirdweb-dev/wallets/dist/http-rpc-client-29e9bef8.browser.esm.js\");\n/* harmony import */ var _utils_5fdc349b_browser_esm_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./utils-5fdc349b.browser.esm.js */ \"./node_modules/@thirdweb-dev/wallets/dist/utils-5fdc349b.browser.esm.js\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ethers */ \"./node_modules/@ethersproject/abstract-signer/lib.esm/index.js\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ethers */ \"./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ethers */ \"./node_modules/@ethersproject/bytes/lib.esm/index.js\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ethers */ \"./node_modules/@ethersproject/transactions/lib.esm/index.js\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ethers */ \"./node_modules/@ethersproject/address/lib.esm/index.js\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ethers */ \"./node_modules/@ethersproject/rlp/lib.esm/index.js\");\n/* harmony import */ var ethers_lib_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ethers/lib/utils */ \"./node_modules/ethers/lib/utils.js\");\n/* harmony import */ var ethers_lib_utils__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(ethers_lib_utils__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! eventemitter3 */ \"./node_modules/eventemitter3/index.mjs\");\n/* harmony import */ var _evm_wallets_abstract_dist_thirdweb_dev_wallets_evm_wallets_abstract_browser_esm_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../evm/wallets/abstract/dist/thirdweb-dev-wallets-evm-wallets-abstract.browser.esm.js */ \"./node_modules/@thirdweb-dev/wallets/evm/wallets/abstract/dist/thirdweb-dev-wallets-evm-wallets-abstract.browser.esm.js\");\n/* harmony import */ var _account_abstraction_contracts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @account-abstraction/contracts */ \"./node_modules/@account-abstraction/contracts/dist/index.js\");\n/* harmony import */ var _account_abstraction_contracts__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_account_abstraction_contracts__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst DEFAULT_GAS_PER_PUBDATA_LIMIT = 50000;\nconst EIP712_TX_TYPE = 0x71;\nconst EIP712_TYPES = {\n  Transaction: [{\n    name: \"txType\",\n    type: \"uint256\"\n  }, {\n    name: \"from\",\n    type: \"uint256\"\n  }, {\n    name: \"to\",\n    type: \"uint256\"\n  }, {\n    name: \"gasLimit\",\n    type: \"uint256\"\n  }, {\n    name: \"gasPerPubdataByteLimit\",\n    type: \"uint256\"\n  }, {\n    name: \"maxFeePerGas\",\n    type: \"uint256\"\n  }, {\n    name: \"maxPriorityFeePerGas\",\n    type: \"uint256\"\n  }, {\n    name: \"paymaster\",\n    type: \"uint256\"\n  }, {\n    name: \"nonce\",\n    type: \"uint256\"\n  }, {\n    name: \"value\",\n    type: \"uint256\"\n  }, {\n    name: \"data\",\n    type: \"bytes\"\n  }, {\n    name: \"factoryDeps\",\n    type: \"bytes32[]\"\n  }, {\n    name: \"paymasterInput\",\n    type: \"bytes\"\n  }]\n};\nclass ZkWrappedSigner extends ethers__WEBPACK_IMPORTED_MODULE_3__.Signer {\n  constructor(signer, httpRpcClient) {\n    super();\n    this.signer = signer;\n    (0,ethers_lib_utils__WEBPACK_IMPORTED_MODULE_4__.defineReadOnly)(this, \"provider\", signer.provider);\n    this.httpRpcClient = httpRpcClient;\n  }\n  async getAddress() {\n    return await this.signer.getAddress();\n  }\n  async signMessage(message) {\n    return await this.signer.signMessage(message);\n  }\n  async signTransaction(transaction) {\n    return await this.signer.signTransaction(transaction);\n  }\n  connect(provider) {\n    return new ZkWrappedSigner(this.signer.connect(provider), this.httpRpcClient);\n  }\n  _signTypedData(domain, types, value) {\n    return this.signer._signTypedData(domain, types, value);\n  }\n  async sendTransaction(transaction) {\n    return await this.sendZkSyncTransaction(transaction);\n  }\n  async sendZkSyncTransaction(_transaction) {\n    let transaction = await this.populateTransaction(_transaction);\n    if (!transaction.chainId) {\n      throw new Error(\"ChainId is required to send a ZkSync transaction\");\n    }\n    if (!this.provider) {\n      throw new Error(\"Provider is required to send a ZkSync transaction\");\n    }\n    const address = await this.getAddress();\n    const gasLimit = ethers__WEBPACK_IMPORTED_MODULE_5__.BigNumber.from(transaction.gasLimit || (await this.provider.estimateGas(transaction))).mul(3);\n    const gasPrice = ethers__WEBPACK_IMPORTED_MODULE_5__.BigNumber.from(transaction.gasPrice || (await this.provider.getGasPrice())).mul(2);\n    if (!transaction.maxFeePerGas) {\n      transaction.maxFeePerGas = gasPrice;\n    } else {\n      transaction.maxFeePerGas = transaction.maxFeePerGas.mul(2);\n    }\n    if (!transaction.maxPriorityFeePerGas) {\n      transaction.maxPriorityFeePerGas = gasPrice;\n    } else {\n      transaction.maxPriorityFeePerGas = transaction.maxPriorityFeePerGas.mul(2);\n    }\n    transaction = {\n      ...transaction,\n      from: address,\n      gasLimit,\n      gasPrice,\n      chainId: (await this.provider.getNetwork()).chainId,\n      nonce: await this.provider.getTransactionCount(address),\n      type: 113,\n      value: BigInt(0)\n    };\n    const pmDataResult = await this.httpRpcClient?.zkPaymasterData(transaction);\n    transaction.customData = {\n      gasPerPubdata: DEFAULT_GAS_PER_PUBDATA_LIMIT,\n      factoryDeps: [],\n      paymasterParams: {\n        paymaster: pmDataResult.paymaster,\n        paymasterInput: pmDataResult.paymasterInput\n      }\n    };\n    const eip712tx = {\n      txType: EIP712_TX_TYPE,\n      from: BigInt(transaction.from || (await this.getAddress())).toString(),\n      to: BigInt(transaction.to || \"0x0\").toString(),\n      gasLimit: transaction.gasLimit ? Number(transaction.gasLimit) : 0,\n      gasPerPubdataByteLimit: DEFAULT_GAS_PER_PUBDATA_LIMIT,\n      maxFeePerGas: ethers__WEBPACK_IMPORTED_MODULE_5__.BigNumber.from(transaction.maxFeePerGas).toNumber(),\n      maxPriorityFeePerGas: ethers__WEBPACK_IMPORTED_MODULE_5__.BigNumber.from(transaction.maxPriorityFeePerGas).toNumber(),\n      paymaster: BigInt(pmDataResult.paymaster).toString(),\n      nonce: ethers__WEBPACK_IMPORTED_MODULE_5__.BigNumber.from(transaction.nonce).toNumber(),\n      value: ethers__WEBPACK_IMPORTED_MODULE_5__.BigNumber.from(transaction.value).toNumber(),\n      data: transaction.data || \"0x\",\n      factoryDeps: [],\n      paymasterInput: ethers__WEBPACK_IMPORTED_MODULE_6__.arrayify(pmDataResult.paymasterInput)\n    };\n    const signature = await this._signTypedData({\n      name: \"zkSync\",\n      version: \"2\",\n      chainId: transaction.chainId\n    }, EIP712_TYPES, eip712tx);\n    const serializedTx = this.serialize(transaction, signature);\n    const zkSignedTx = {\n      from: transaction.from?.toString() || (await this.getAddress()),\n      to: transaction.to?.toString() || \"\",\n      gas: transaction.gasLimit?.toString() || \"\",\n      maxFeePerGas: transaction.maxFeePerGas?.toString() || \"0\",\n      maxPriorityFeePerGas: transaction.maxPriorityFeePerGas?.toString() || \"0\",\n      signedTransaction: serializedTx,\n      paymaster: pmDataResult.paymaster\n    };\n    const broadcastResult = await this.httpRpcClient?.zkBroadcastTransaction(zkSignedTx);\n    const hash = broadcastResult.transactionHash;\n    return await this.provider?.getTransaction(hash);\n  }\n  serialize(transaction, signature) {\n    if (!transaction.customData && transaction.type !== EIP712_TX_TYPE) {\n      return ethers__WEBPACK_IMPORTED_MODULE_7__.serialize(transaction, signature);\n    }\n    if (!transaction.chainId) {\n      throw Error(\"Transaction chainId isn't set!\");\n    }\n    function formatNumber(value, name) {\n      const result = ethers__WEBPACK_IMPORTED_MODULE_6__.stripZeros(ethers__WEBPACK_IMPORTED_MODULE_5__.BigNumber.from(value).toHexString());\n      if (result.length > 32) {\n        throw new Error(`Invalid length for ${name}!`);\n      }\n      return result;\n    }\n    if (!transaction.from) {\n      throw new Error(\"Explicitly providing `from` field is required for EIP712 transactions!\");\n    }\n    const from = transaction.from;\n    const meta = transaction.customData ?? {};\n    const maxFeePerGas = transaction.maxFeePerGas || transaction.gasPrice || 0;\n    const maxPriorityFeePerGas = transaction.maxPriorityFeePerGas || maxFeePerGas;\n    const fields = [formatNumber(transaction.nonce || 0, \"nonce\"), formatNumber(maxPriorityFeePerGas, \"maxPriorityFeePerGas\"), formatNumber(maxFeePerGas, \"maxFeePerGas\"), formatNumber(transaction.gasLimit || 0, \"gasLimit\"), transaction.to ? ethers__WEBPACK_IMPORTED_MODULE_8__.getAddress(transaction.to) : \"0x\", formatNumber(transaction.value || 0, \"value\"), transaction.data || \"0x\"];\n    if (signature) {\n      const sig = ethers__WEBPACK_IMPORTED_MODULE_6__.splitSignature(signature);\n      fields.push(formatNumber(sig.recoveryParam, \"recoveryParam\"));\n      fields.push(ethers__WEBPACK_IMPORTED_MODULE_6__.stripZeros(sig.r));\n      fields.push(ethers__WEBPACK_IMPORTED_MODULE_6__.stripZeros(sig.s));\n    } else {\n      fields.push(formatNumber(transaction.chainId, \"chainId\"));\n      fields.push(\"0x\");\n      fields.push(\"0x\");\n    }\n    fields.push(formatNumber(transaction.chainId, \"chainId\"));\n    fields.push(ethers__WEBPACK_IMPORTED_MODULE_8__.getAddress(from));\n\n    // Add meta\n    fields.push(formatNumber(meta.gasPerPubdata || DEFAULT_GAS_PER_PUBDATA_LIMIT, \"gasPerPubdata\"));\n    fields.push((meta.factoryDeps ?? []).map(dep => ethers__WEBPACK_IMPORTED_MODULE_6__.hexlify(dep)));\n    if (meta.customSignature && ethers__WEBPACK_IMPORTED_MODULE_6__.arrayify(meta.customSignature).length === 0) {\n      throw new Error(\"Empty signatures are not supported!\");\n    }\n    fields.push(meta.customSignature || \"0x\");\n    if (meta.paymasterParams) {\n      fields.push([meta.paymasterParams.paymaster, ethers__WEBPACK_IMPORTED_MODULE_6__.hexlify(meta.paymasterParams.paymasterInput)]);\n    } else {\n      fields.push([]);\n    }\n    return ethers__WEBPACK_IMPORTED_MODULE_6__.hexConcat([[EIP712_TX_TYPE], ethers__WEBPACK_IMPORTED_MODULE_9__.encode(fields)]);\n  }\n}\n\nclass ZkSyncConnector extends _connector_05689d68_browser_esm_js__WEBPACK_IMPORTED_MODULE_10__.C {\n  constructor(config) {\n    super();\n    (0,_defineProperty_350fc508_browser_esm_js__WEBPACK_IMPORTED_MODULE_11__._)(this, \"chainId\", 1);\n    this.config = config;\n  }\n  async connect(args) {\n    this.personalWallet = args.personalWallet;\n    this.chainId = await (await this.personalWallet.getSigner()).getChainId();\n    if (!(await (0,_utils_5fdc349b_browser_esm_js__WEBPACK_IMPORTED_MODULE_12__.e)(this.chainId))) {\n      throw new Error(\"Invalid zksync chain id\");\n    }\n    const bundlerUrl = this.config.bundlerUrl || `https://${this.chainId}.bundler.thirdweb.com`;\n    const entryPointAddress = this.config.entryPointAddress || _utils_5fdc349b_browser_esm_js__WEBPACK_IMPORTED_MODULE_12__.f;\n    this.httpRpcClient = new _http_rpc_client_29e9bef8_browser_esm_js__WEBPACK_IMPORTED_MODULE_13__.H(bundlerUrl, entryPointAddress, this.chainId, this.config.clientId, this.config.secretKey);\n    return this.getAddress();\n  }\n  disconnect() {\n    throw new Error(\"Method not implemented.\");\n  }\n  async getAddress() {\n    const signer = await this.getSigner();\n    return signer.getAddress();\n  }\n  async getSigner() {\n    if (!this.personalWallet) {\n      throw new Error(\"Wallet not connected\");\n    }\n    return new ZkWrappedSigner(await this.personalWallet.getSigner(), this.httpRpcClient);\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  switchChain(chainId) {\n    throw new Error(\"Method not implemented.\");\n  }\n  isConnected() {\n    return Promise.resolve(!!this.personalWallet);\n  }\n  setupListeners() {\n    throw new Error(\"Method not implemented.\");\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  updateChains(chains) {\n    throw new Error(\"Method not implemented.\");\n  }\n  async getProvider() {\n    if (!this.getSigner()) {\n      throw new Error(\"Personal wallet not connected\");\n    }\n    const signer = await this.getSigner();\n    if (!signer.provider) {\n      throw new Error(\"Provider not found\");\n    }\n    return signer.provider;\n  }\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHRoaXJkd2ViLWRldi93YWxsZXRzL2Rpc3QvemstY29ubmVjdG9yLTlkZjI4NDE4LmJyb3dzZXIuZXNtLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWdGO0FBQ1g7QUFDVTtBQUNlO0FBQ3BDO0FBQ1I7QUFDM0I7QUFDZ0I7QUFDVDtBQUNhO0FBQ29EO0FBQ3BFO0FBQ2E7O0FBRXhDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLDhCQUE4QiwwQ0FBTTtBQUNwQztBQUNBO0FBQ0E7QUFDQSxJQUFJLGdFQUFjO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsNkNBQWdCO0FBQ3JDLHFCQUFxQiw2Q0FBZ0I7QUFDckM7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsNkNBQWdCO0FBQ3BDLDRCQUE0Qiw2Q0FBZ0I7QUFDNUM7QUFDQSxhQUFhLDZDQUFnQjtBQUM3QixhQUFhLDZDQUFnQjtBQUM3QjtBQUNBO0FBQ0Esc0JBQXNCLDRDQUFxQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSw2Q0FBMEI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiw4Q0FBZ0IsQ0FBQyw2Q0FBUztBQUMvQztBQUNBLDhDQUE4QyxLQUFLO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaVBBQWlQLDhDQUFnQjtBQUNqUTtBQUNBLGtCQUFrQixrREFBb0I7QUFDdEM7QUFDQSxrQkFBa0IsOENBQWdCO0FBQ2xDLGtCQUFrQiw4Q0FBZ0I7QUFDbEMsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsOENBQWdCOztBQUVoQztBQUNBO0FBQ0Esb0RBQW9ELDJDQUFhO0FBQ2pFLGdDQUFnQyw0Q0FBcUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQsMkNBQW9CO0FBQ3ZFLE1BQU07QUFDTjtBQUNBO0FBQ0EsV0FBVyw2Q0FBZSxvQkFBb0IsMENBQWdCO0FBQzlEO0FBQ0E7O0FBRUEsOEJBQThCLGtFQUFTO0FBQ3ZDO0FBQ0E7QUFDQSxJQUFJLDJFQUFlO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isa0VBQWE7QUFDN0I7QUFDQTtBQUNBLDREQUE0RCxhQUFhO0FBQ3pFLCtEQUErRCw4REFBa0I7QUFDakYsNkJBQTZCLHdFQUFhO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRTJCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AdGhpcmR3ZWItZGV2L3dhbGxldHMvZGlzdC96ay1jb25uZWN0b3ItOWRmMjg0MTguYnJvd3Nlci5lc20uanM/NDI3YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfIGFzIF9kZWZpbmVQcm9wZXJ0eSB9IGZyb20gJy4vZGVmaW5lUHJvcGVydHktMzUwZmM1MDguYnJvd3Nlci5lc20uanMnO1xuaW1wb3J0IHsgQyBhcyBDb25uZWN0b3IgfSBmcm9tICcuL2Nvbm5lY3Rvci0wNTY4OWQ2OC5icm93c2VyLmVzbS5qcyc7XG5pbXBvcnQgeyBIIGFzIEh0dHBScGNDbGllbnQgfSBmcm9tICcuL2h0dHAtcnBjLWNsaWVudC0yOWU5YmVmOC5icm93c2VyLmVzbS5qcyc7XG5pbXBvcnQgeyBlIGFzIGlzWmtTeW5jQ2hhaW4sIGYgYXMgRU5UUllQT0lOVF9BRERSRVNTIH0gZnJvbSAnLi91dGlscy01ZmRjMzQ5Yi5icm93c2VyLmVzbS5qcyc7XG5pbXBvcnQgeyBTaWduZXIsIGV0aGVycywgdXRpbHMsIEJpZ051bWJlciB9IGZyb20gJ2V0aGVycyc7XG5pbXBvcnQgeyBkZWZpbmVSZWFkT25seSB9IGZyb20gJ2V0aGVycy9saWIvdXRpbHMnO1xuaW1wb3J0ICdldmVudGVtaXR0ZXIzJztcbmltcG9ydCAnLi91cmwtYTQ1MjE5YmQuYnJvd3Nlci5lc20uanMnO1xuaW1wb3J0ICdAdGhpcmR3ZWItZGV2L2NoYWlucyc7XG5pbXBvcnQgJy4vaGVhZGVycy1iOThkZWE2Mi5icm93c2VyLmVzbS5qcyc7XG5pbXBvcnQgJy4uL2V2bS93YWxsZXRzL2Fic3RyYWN0L2Rpc3QvdGhpcmR3ZWItZGV2LXdhbGxldHMtZXZtLXdhbGxldHMtYWJzdHJhY3QuYnJvd3Nlci5lc20uanMnO1xuaW1wb3J0ICdAdGhpcmR3ZWItZGV2L3Nkayc7XG5pbXBvcnQgJ0BhY2NvdW50LWFic3RyYWN0aW9uL2NvbnRyYWN0cyc7XG5cbmNvbnN0IERFRkFVTFRfR0FTX1BFUl9QVUJEQVRBX0xJTUlUID0gNTAwMDA7XG5jb25zdCBFSVA3MTJfVFhfVFlQRSA9IDB4NzE7XG5jb25zdCBFSVA3MTJfVFlQRVMgPSB7XG4gIFRyYW5zYWN0aW9uOiBbe1xuICAgIG5hbWU6IFwidHhUeXBlXCIsXG4gICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgfSwge1xuICAgIG5hbWU6IFwiZnJvbVwiLFxuICAgIHR5cGU6IFwidWludDI1NlwiXG4gIH0sIHtcbiAgICBuYW1lOiBcInRvXCIsXG4gICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgfSwge1xuICAgIG5hbWU6IFwiZ2FzTGltaXRcIixcbiAgICB0eXBlOiBcInVpbnQyNTZcIlxuICB9LCB7XG4gICAgbmFtZTogXCJnYXNQZXJQdWJkYXRhQnl0ZUxpbWl0XCIsXG4gICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgfSwge1xuICAgIG5hbWU6IFwibWF4RmVlUGVyR2FzXCIsXG4gICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgfSwge1xuICAgIG5hbWU6IFwibWF4UHJpb3JpdHlGZWVQZXJHYXNcIixcbiAgICB0eXBlOiBcInVpbnQyNTZcIlxuICB9LCB7XG4gICAgbmFtZTogXCJwYXltYXN0ZXJcIixcbiAgICB0eXBlOiBcInVpbnQyNTZcIlxuICB9LCB7XG4gICAgbmFtZTogXCJub25jZVwiLFxuICAgIHR5cGU6IFwidWludDI1NlwiXG4gIH0sIHtcbiAgICBuYW1lOiBcInZhbHVlXCIsXG4gICAgdHlwZTogXCJ1aW50MjU2XCJcbiAgfSwge1xuICAgIG5hbWU6IFwiZGF0YVwiLFxuICAgIHR5cGU6IFwiYnl0ZXNcIlxuICB9LCB7XG4gICAgbmFtZTogXCJmYWN0b3J5RGVwc1wiLFxuICAgIHR5cGU6IFwiYnl0ZXMzMltdXCJcbiAgfSwge1xuICAgIG5hbWU6IFwicGF5bWFzdGVySW5wdXRcIixcbiAgICB0eXBlOiBcImJ5dGVzXCJcbiAgfV1cbn07XG5jbGFzcyBaa1dyYXBwZWRTaWduZXIgZXh0ZW5kcyBTaWduZXIge1xuICBjb25zdHJ1Y3RvcihzaWduZXIsIGh0dHBScGNDbGllbnQpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuc2lnbmVyID0gc2lnbmVyO1xuICAgIGRlZmluZVJlYWRPbmx5KHRoaXMsIFwicHJvdmlkZXJcIiwgc2lnbmVyLnByb3ZpZGVyKTtcbiAgICB0aGlzLmh0dHBScGNDbGllbnQgPSBodHRwUnBjQ2xpZW50O1xuICB9XG4gIGFzeW5jIGdldEFkZHJlc3MoKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuc2lnbmVyLmdldEFkZHJlc3MoKTtcbiAgfVxuICBhc3luYyBzaWduTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuc2lnbmVyLnNpZ25NZXNzYWdlKG1lc3NhZ2UpO1xuICB9XG4gIGFzeW5jIHNpZ25UcmFuc2FjdGlvbih0cmFuc2FjdGlvbikge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnNpZ25lci5zaWduVHJhbnNhY3Rpb24odHJhbnNhY3Rpb24pO1xuICB9XG4gIGNvbm5lY3QocHJvdmlkZXIpIHtcbiAgICByZXR1cm4gbmV3IFprV3JhcHBlZFNpZ25lcih0aGlzLnNpZ25lci5jb25uZWN0KHByb3ZpZGVyKSwgdGhpcy5odHRwUnBjQ2xpZW50KTtcbiAgfVxuICBfc2lnblR5cGVkRGF0YShkb21haW4sIHR5cGVzLCB2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLnNpZ25lci5fc2lnblR5cGVkRGF0YShkb21haW4sIHR5cGVzLCB2YWx1ZSk7XG4gIH1cbiAgYXN5bmMgc2VuZFRyYW5zYWN0aW9uKHRyYW5zYWN0aW9uKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuc2VuZFprU3luY1RyYW5zYWN0aW9uKHRyYW5zYWN0aW9uKTtcbiAgfVxuICBhc3luYyBzZW5kWmtTeW5jVHJhbnNhY3Rpb24oX3RyYW5zYWN0aW9uKSB7XG4gICAgbGV0IHRyYW5zYWN0aW9uID0gYXdhaXQgdGhpcy5wb3B1bGF0ZVRyYW5zYWN0aW9uKF90cmFuc2FjdGlvbik7XG4gICAgaWYgKCF0cmFuc2FjdGlvbi5jaGFpbklkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDaGFpbklkIGlzIHJlcXVpcmVkIHRvIHNlbmQgYSBaa1N5bmMgdHJhbnNhY3Rpb25cIik7XG4gICAgfVxuICAgIGlmICghdGhpcy5wcm92aWRlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUHJvdmlkZXIgaXMgcmVxdWlyZWQgdG8gc2VuZCBhIFprU3luYyB0cmFuc2FjdGlvblwiKTtcbiAgICB9XG4gICAgY29uc3QgYWRkcmVzcyA9IGF3YWl0IHRoaXMuZ2V0QWRkcmVzcygpO1xuICAgIGNvbnN0IGdhc0xpbWl0ID0gZXRoZXJzLkJpZ051bWJlci5mcm9tKHRyYW5zYWN0aW9uLmdhc0xpbWl0IHx8IChhd2FpdCB0aGlzLnByb3ZpZGVyLmVzdGltYXRlR2FzKHRyYW5zYWN0aW9uKSkpLm11bCgzKTtcbiAgICBjb25zdCBnYXNQcmljZSA9IGV0aGVycy5CaWdOdW1iZXIuZnJvbSh0cmFuc2FjdGlvbi5nYXNQcmljZSB8fCAoYXdhaXQgdGhpcy5wcm92aWRlci5nZXRHYXNQcmljZSgpKSkubXVsKDIpO1xuICAgIGlmICghdHJhbnNhY3Rpb24ubWF4RmVlUGVyR2FzKSB7XG4gICAgICB0cmFuc2FjdGlvbi5tYXhGZWVQZXJHYXMgPSBnYXNQcmljZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdHJhbnNhY3Rpb24ubWF4RmVlUGVyR2FzID0gdHJhbnNhY3Rpb24ubWF4RmVlUGVyR2FzLm11bCgyKTtcbiAgICB9XG4gICAgaWYgKCF0cmFuc2FjdGlvbi5tYXhQcmlvcml0eUZlZVBlckdhcykge1xuICAgICAgdHJhbnNhY3Rpb24ubWF4UHJpb3JpdHlGZWVQZXJHYXMgPSBnYXNQcmljZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdHJhbnNhY3Rpb24ubWF4UHJpb3JpdHlGZWVQZXJHYXMgPSB0cmFuc2FjdGlvbi5tYXhQcmlvcml0eUZlZVBlckdhcy5tdWwoMik7XG4gICAgfVxuICAgIHRyYW5zYWN0aW9uID0ge1xuICAgICAgLi4udHJhbnNhY3Rpb24sXG4gICAgICBmcm9tOiBhZGRyZXNzLFxuICAgICAgZ2FzTGltaXQsXG4gICAgICBnYXNQcmljZSxcbiAgICAgIGNoYWluSWQ6IChhd2FpdCB0aGlzLnByb3ZpZGVyLmdldE5ldHdvcmsoKSkuY2hhaW5JZCxcbiAgICAgIG5vbmNlOiBhd2FpdCB0aGlzLnByb3ZpZGVyLmdldFRyYW5zYWN0aW9uQ291bnQoYWRkcmVzcyksXG4gICAgICB0eXBlOiAxMTMsXG4gICAgICB2YWx1ZTogQmlnSW50KDApXG4gICAgfTtcbiAgICBjb25zdCBwbURhdGFSZXN1bHQgPSBhd2FpdCB0aGlzLmh0dHBScGNDbGllbnQ/LnprUGF5bWFzdGVyRGF0YSh0cmFuc2FjdGlvbik7XG4gICAgdHJhbnNhY3Rpb24uY3VzdG9tRGF0YSA9IHtcbiAgICAgIGdhc1BlclB1YmRhdGE6IERFRkFVTFRfR0FTX1BFUl9QVUJEQVRBX0xJTUlULFxuICAgICAgZmFjdG9yeURlcHM6IFtdLFxuICAgICAgcGF5bWFzdGVyUGFyYW1zOiB7XG4gICAgICAgIHBheW1hc3RlcjogcG1EYXRhUmVzdWx0LnBheW1hc3RlcixcbiAgICAgICAgcGF5bWFzdGVySW5wdXQ6IHBtRGF0YVJlc3VsdC5wYXltYXN0ZXJJbnB1dFxuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgZWlwNzEydHggPSB7XG4gICAgICB0eFR5cGU6IEVJUDcxMl9UWF9UWVBFLFxuICAgICAgZnJvbTogQmlnSW50KHRyYW5zYWN0aW9uLmZyb20gfHwgKGF3YWl0IHRoaXMuZ2V0QWRkcmVzcygpKSkudG9TdHJpbmcoKSxcbiAgICAgIHRvOiBCaWdJbnQodHJhbnNhY3Rpb24udG8gfHwgXCIweDBcIikudG9TdHJpbmcoKSxcbiAgICAgIGdhc0xpbWl0OiB0cmFuc2FjdGlvbi5nYXNMaW1pdCA/IE51bWJlcih0cmFuc2FjdGlvbi5nYXNMaW1pdCkgOiAwLFxuICAgICAgZ2FzUGVyUHViZGF0YUJ5dGVMaW1pdDogREVGQVVMVF9HQVNfUEVSX1BVQkRBVEFfTElNSVQsXG4gICAgICBtYXhGZWVQZXJHYXM6IGV0aGVycy5CaWdOdW1iZXIuZnJvbSh0cmFuc2FjdGlvbi5tYXhGZWVQZXJHYXMpLnRvTnVtYmVyKCksXG4gICAgICBtYXhQcmlvcml0eUZlZVBlckdhczogZXRoZXJzLkJpZ051bWJlci5mcm9tKHRyYW5zYWN0aW9uLm1heFByaW9yaXR5RmVlUGVyR2FzKS50b051bWJlcigpLFxuICAgICAgcGF5bWFzdGVyOiBCaWdJbnQocG1EYXRhUmVzdWx0LnBheW1hc3RlcikudG9TdHJpbmcoKSxcbiAgICAgIG5vbmNlOiBldGhlcnMuQmlnTnVtYmVyLmZyb20odHJhbnNhY3Rpb24ubm9uY2UpLnRvTnVtYmVyKCksXG4gICAgICB2YWx1ZTogZXRoZXJzLkJpZ051bWJlci5mcm9tKHRyYW5zYWN0aW9uLnZhbHVlKS50b051bWJlcigpLFxuICAgICAgZGF0YTogdHJhbnNhY3Rpb24uZGF0YSB8fCBcIjB4XCIsXG4gICAgICBmYWN0b3J5RGVwczogW10sXG4gICAgICBwYXltYXN0ZXJJbnB1dDogZXRoZXJzLnV0aWxzLmFycmF5aWZ5KHBtRGF0YVJlc3VsdC5wYXltYXN0ZXJJbnB1dClcbiAgICB9O1xuICAgIGNvbnN0IHNpZ25hdHVyZSA9IGF3YWl0IHRoaXMuX3NpZ25UeXBlZERhdGEoe1xuICAgICAgbmFtZTogXCJ6a1N5bmNcIixcbiAgICAgIHZlcnNpb246IFwiMlwiLFxuICAgICAgY2hhaW5JZDogdHJhbnNhY3Rpb24uY2hhaW5JZFxuICAgIH0sIEVJUDcxMl9UWVBFUywgZWlwNzEydHgpO1xuICAgIGNvbnN0IHNlcmlhbGl6ZWRUeCA9IHRoaXMuc2VyaWFsaXplKHRyYW5zYWN0aW9uLCBzaWduYXR1cmUpO1xuICAgIGNvbnN0IHprU2lnbmVkVHggPSB7XG4gICAgICBmcm9tOiB0cmFuc2FjdGlvbi5mcm9tPy50b1N0cmluZygpIHx8IChhd2FpdCB0aGlzLmdldEFkZHJlc3MoKSksXG4gICAgICB0bzogdHJhbnNhY3Rpb24udG8/LnRvU3RyaW5nKCkgfHwgXCJcIixcbiAgICAgIGdhczogdHJhbnNhY3Rpb24uZ2FzTGltaXQ/LnRvU3RyaW5nKCkgfHwgXCJcIixcbiAgICAgIG1heEZlZVBlckdhczogdHJhbnNhY3Rpb24ubWF4RmVlUGVyR2FzPy50b1N0cmluZygpIHx8IFwiMFwiLFxuICAgICAgbWF4UHJpb3JpdHlGZWVQZXJHYXM6IHRyYW5zYWN0aW9uLm1heFByaW9yaXR5RmVlUGVyR2FzPy50b1N0cmluZygpIHx8IFwiMFwiLFxuICAgICAgc2lnbmVkVHJhbnNhY3Rpb246IHNlcmlhbGl6ZWRUeCxcbiAgICAgIHBheW1hc3RlcjogcG1EYXRhUmVzdWx0LnBheW1hc3RlclxuICAgIH07XG4gICAgY29uc3QgYnJvYWRjYXN0UmVzdWx0ID0gYXdhaXQgdGhpcy5odHRwUnBjQ2xpZW50Py56a0Jyb2FkY2FzdFRyYW5zYWN0aW9uKHprU2lnbmVkVHgpO1xuICAgIGNvbnN0IGhhc2ggPSBicm9hZGNhc3RSZXN1bHQudHJhbnNhY3Rpb25IYXNoO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnByb3ZpZGVyPy5nZXRUcmFuc2FjdGlvbihoYXNoKTtcbiAgfVxuICBzZXJpYWxpemUodHJhbnNhY3Rpb24sIHNpZ25hdHVyZSkge1xuICAgIGlmICghdHJhbnNhY3Rpb24uY3VzdG9tRGF0YSAmJiB0cmFuc2FjdGlvbi50eXBlICE9PSBFSVA3MTJfVFhfVFlQRSkge1xuICAgICAgcmV0dXJuIHV0aWxzLnNlcmlhbGl6ZVRyYW5zYWN0aW9uKHRyYW5zYWN0aW9uLCBzaWduYXR1cmUpO1xuICAgIH1cbiAgICBpZiAoIXRyYW5zYWN0aW9uLmNoYWluSWQpIHtcbiAgICAgIHRocm93IEVycm9yKFwiVHJhbnNhY3Rpb24gY2hhaW5JZCBpc24ndCBzZXQhXCIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmb3JtYXROdW1iZXIodmFsdWUsIG5hbWUpIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHV0aWxzLnN0cmlwWmVyb3MoQmlnTnVtYmVyLmZyb20odmFsdWUpLnRvSGV4U3RyaW5nKCkpO1xuICAgICAgaWYgKHJlc3VsdC5sZW5ndGggPiAzMikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgbGVuZ3RoIGZvciAke25hbWV9IWApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgaWYgKCF0cmFuc2FjdGlvbi5mcm9tKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFeHBsaWNpdGx5IHByb3ZpZGluZyBgZnJvbWAgZmllbGQgaXMgcmVxdWlyZWQgZm9yIEVJUDcxMiB0cmFuc2FjdGlvbnMhXCIpO1xuICAgIH1cbiAgICBjb25zdCBmcm9tID0gdHJhbnNhY3Rpb24uZnJvbTtcbiAgICBjb25zdCBtZXRhID0gdHJhbnNhY3Rpb24uY3VzdG9tRGF0YSA/PyB7fTtcbiAgICBjb25zdCBtYXhGZWVQZXJHYXMgPSB0cmFuc2FjdGlvbi5tYXhGZWVQZXJHYXMgfHwgdHJhbnNhY3Rpb24uZ2FzUHJpY2UgfHwgMDtcbiAgICBjb25zdCBtYXhQcmlvcml0eUZlZVBlckdhcyA9IHRyYW5zYWN0aW9uLm1heFByaW9yaXR5RmVlUGVyR2FzIHx8IG1heEZlZVBlckdhcztcbiAgICBjb25zdCBmaWVsZHMgPSBbZm9ybWF0TnVtYmVyKHRyYW5zYWN0aW9uLm5vbmNlIHx8IDAsIFwibm9uY2VcIiksIGZvcm1hdE51bWJlcihtYXhQcmlvcml0eUZlZVBlckdhcywgXCJtYXhQcmlvcml0eUZlZVBlckdhc1wiKSwgZm9ybWF0TnVtYmVyKG1heEZlZVBlckdhcywgXCJtYXhGZWVQZXJHYXNcIiksIGZvcm1hdE51bWJlcih0cmFuc2FjdGlvbi5nYXNMaW1pdCB8fCAwLCBcImdhc0xpbWl0XCIpLCB0cmFuc2FjdGlvbi50byA/IHV0aWxzLmdldEFkZHJlc3ModHJhbnNhY3Rpb24udG8pIDogXCIweFwiLCBmb3JtYXROdW1iZXIodHJhbnNhY3Rpb24udmFsdWUgfHwgMCwgXCJ2YWx1ZVwiKSwgdHJhbnNhY3Rpb24uZGF0YSB8fCBcIjB4XCJdO1xuICAgIGlmIChzaWduYXR1cmUpIHtcbiAgICAgIGNvbnN0IHNpZyA9IHV0aWxzLnNwbGl0U2lnbmF0dXJlKHNpZ25hdHVyZSk7XG4gICAgICBmaWVsZHMucHVzaChmb3JtYXROdW1iZXIoc2lnLnJlY292ZXJ5UGFyYW0sIFwicmVjb3ZlcnlQYXJhbVwiKSk7XG4gICAgICBmaWVsZHMucHVzaCh1dGlscy5zdHJpcFplcm9zKHNpZy5yKSk7XG4gICAgICBmaWVsZHMucHVzaCh1dGlscy5zdHJpcFplcm9zKHNpZy5zKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZpZWxkcy5wdXNoKGZvcm1hdE51bWJlcih0cmFuc2FjdGlvbi5jaGFpbklkLCBcImNoYWluSWRcIikpO1xuICAgICAgZmllbGRzLnB1c2goXCIweFwiKTtcbiAgICAgIGZpZWxkcy5wdXNoKFwiMHhcIik7XG4gICAgfVxuICAgIGZpZWxkcy5wdXNoKGZvcm1hdE51bWJlcih0cmFuc2FjdGlvbi5jaGFpbklkLCBcImNoYWluSWRcIikpO1xuICAgIGZpZWxkcy5wdXNoKHV0aWxzLmdldEFkZHJlc3MoZnJvbSkpO1xuXG4gICAgLy8gQWRkIG1ldGFcbiAgICBmaWVsZHMucHVzaChmb3JtYXROdW1iZXIobWV0YS5nYXNQZXJQdWJkYXRhIHx8IERFRkFVTFRfR0FTX1BFUl9QVUJEQVRBX0xJTUlULCBcImdhc1BlclB1YmRhdGFcIikpO1xuICAgIGZpZWxkcy5wdXNoKChtZXRhLmZhY3RvcnlEZXBzID8/IFtdKS5tYXAoZGVwID0+IHV0aWxzLmhleGxpZnkoZGVwKSkpO1xuICAgIGlmIChtZXRhLmN1c3RvbVNpZ25hdHVyZSAmJiBldGhlcnMudXRpbHMuYXJyYXlpZnkobWV0YS5jdXN0b21TaWduYXR1cmUpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRW1wdHkgc2lnbmF0dXJlcyBhcmUgbm90IHN1cHBvcnRlZCFcIik7XG4gICAgfVxuICAgIGZpZWxkcy5wdXNoKG1ldGEuY3VzdG9tU2lnbmF0dXJlIHx8IFwiMHhcIik7XG4gICAgaWYgKG1ldGEucGF5bWFzdGVyUGFyYW1zKSB7XG4gICAgICBmaWVsZHMucHVzaChbbWV0YS5wYXltYXN0ZXJQYXJhbXMucGF5bWFzdGVyLCBldGhlcnMudXRpbHMuaGV4bGlmeShtZXRhLnBheW1hc3RlclBhcmFtcy5wYXltYXN0ZXJJbnB1dCldKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmllbGRzLnB1c2goW10pO1xuICAgIH1cbiAgICByZXR1cm4gdXRpbHMuaGV4Q29uY2F0KFtbRUlQNzEyX1RYX1RZUEVdLCB1dGlscy5STFAuZW5jb2RlKGZpZWxkcyldKTtcbiAgfVxufVxuXG5jbGFzcyBaa1N5bmNDb25uZWN0b3IgZXh0ZW5kcyBDb25uZWN0b3Ige1xuICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICBzdXBlcigpO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNoYWluSWRcIiwgMSk7XG4gICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gIH1cbiAgYXN5bmMgY29ubmVjdChhcmdzKSB7XG4gICAgdGhpcy5wZXJzb25hbFdhbGxldCA9IGFyZ3MucGVyc29uYWxXYWxsZXQ7XG4gICAgdGhpcy5jaGFpbklkID0gYXdhaXQgKGF3YWl0IHRoaXMucGVyc29uYWxXYWxsZXQuZ2V0U2lnbmVyKCkpLmdldENoYWluSWQoKTtcbiAgICBpZiAoIShhd2FpdCBpc1prU3luY0NoYWluKHRoaXMuY2hhaW5JZCkpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHprc3luYyBjaGFpbiBpZFwiKTtcbiAgICB9XG4gICAgY29uc3QgYnVuZGxlclVybCA9IHRoaXMuY29uZmlnLmJ1bmRsZXJVcmwgfHwgYGh0dHBzOi8vJHt0aGlzLmNoYWluSWR9LmJ1bmRsZXIudGhpcmR3ZWIuY29tYDtcbiAgICBjb25zdCBlbnRyeVBvaW50QWRkcmVzcyA9IHRoaXMuY29uZmlnLmVudHJ5UG9pbnRBZGRyZXNzIHx8IEVOVFJZUE9JTlRfQUREUkVTUztcbiAgICB0aGlzLmh0dHBScGNDbGllbnQgPSBuZXcgSHR0cFJwY0NsaWVudChidW5kbGVyVXJsLCBlbnRyeVBvaW50QWRkcmVzcywgdGhpcy5jaGFpbklkLCB0aGlzLmNvbmZpZy5jbGllbnRJZCwgdGhpcy5jb25maWcuc2VjcmV0S2V5KTtcbiAgICByZXR1cm4gdGhpcy5nZXRBZGRyZXNzKCk7XG4gIH1cbiAgZGlzY29ubmVjdCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgfVxuICBhc3luYyBnZXRBZGRyZXNzKCkge1xuICAgIGNvbnN0IHNpZ25lciA9IGF3YWl0IHRoaXMuZ2V0U2lnbmVyKCk7XG4gICAgcmV0dXJuIHNpZ25lci5nZXRBZGRyZXNzKCk7XG4gIH1cbiAgYXN5bmMgZ2V0U2lnbmVyKCkge1xuICAgIGlmICghdGhpcy5wZXJzb25hbFdhbGxldCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiV2FsbGV0IG5vdCBjb25uZWN0ZWRcIik7XG4gICAgfVxuICAgIHJldHVybiBuZXcgWmtXcmFwcGVkU2lnbmVyKGF3YWl0IHRoaXMucGVyc29uYWxXYWxsZXQuZ2V0U2lnbmVyKCksIHRoaXMuaHR0cFJwY0NsaWVudCk7XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gIHN3aXRjaENoYWluKGNoYWluSWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgfVxuICBpc0Nvbm5lY3RlZCgpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCEhdGhpcy5wZXJzb25hbFdhbGxldCk7XG4gIH1cbiAgc2V0dXBMaXN0ZW5lcnMoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gIHVwZGF0ZUNoYWlucyhjaGFpbnMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgfVxuICBhc3luYyBnZXRQcm92aWRlcigpIHtcbiAgICBpZiAoIXRoaXMuZ2V0U2lnbmVyKCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlBlcnNvbmFsIHdhbGxldCBub3QgY29ubmVjdGVkXCIpO1xuICAgIH1cbiAgICBjb25zdCBzaWduZXIgPSBhd2FpdCB0aGlzLmdldFNpZ25lcigpO1xuICAgIGlmICghc2lnbmVyLnByb3ZpZGVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQcm92aWRlciBub3QgZm91bmRcIik7XG4gICAgfVxuICAgIHJldHVybiBzaWduZXIucHJvdmlkZXI7XG4gIH1cbn1cblxuZXhwb3J0IHsgWmtTeW5jQ29ubmVjdG9yIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@thirdweb-dev/wallets/dist/zk-connector-9df28418.browser.esm.js\n"));

/***/ })

}]);